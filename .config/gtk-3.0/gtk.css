/* Import Matugen generated GTK-specific Material You colors */
@import url("colors.css");

/* Set JetBrains Mono for GTK apps only */
* {
    font-family: "JetBrainsMono Nerd Font", monospace;
}

/* Apply Material You colors to GTK3 widgets - using !important to override Adwaita */
window {
    background-color: @window_bg_color;
    color: @window_fg_color;
}

.background {
    background-color: @window_bg_color;
    color: @window_fg_color;
}

/* Force dark mode on headerbar - use higher specificity */
window headerbar,
window .titlebar,
headerbar,
.titlebar,
headerbar.default-decoration,
.titlebar.default-decoration {
    background-color: @headerbar_bg_color;
    background-image: none;
    color: @headerbar_fg_color;
    box-shadow: none;
    border-color: @headerbar_border_color;
}

/* Ensure dark mode persists on hover and backdrop states */
window headerbar:hover,
window .titlebar:hover,
window headerbar:backdrop,
window .titlebar:backdrop,
headerbar:hover,
.titlebar:hover,
headerbar:backdrop,
.titlebar:backdrop,
.background headerbar:backdrop,
.background .titlebar:backdrop {
    background-color: @headerbar_bg_color !important;
    background-image: none !important;
    color: @headerbar_fg_color !important;
    border-color: @headerbar_border_color !important;
}

/* Specifically target LibreOffice and other stubborn apps */
* headerbar:backdrop,
* .titlebar:backdrop {
    background-color: @headerbar_bg_color !important;
    background-image: none !important;
    color: @headerbar_fg_color !important;
}

headerbar button,
headerbar button:hover,
headerbar button:backdrop {
    background-color: transparent;
    background-image: none;
}

.view, textview text {
    background-color: @view_bg_color;
    color: @view_fg_color;
}

entry {
    background-color: @view_bg_color;
    color: @view_fg_color;
    border-color: @borders;
}

entry:focus {
    border-color: @accent_bg_color;
}

button {
    background-color: @view_bg_color;
    background-image: none;
    color: @window_fg_color;
    border-color: @borders;
}

button:hover {
    background-color: @accent_bg_color;
    background-image: none;
    color: @accent_fg_color;
    border-color: @accent_bg_color;
}

button:active {
    background-color: @theme_unfocused_selected_bg_color;
    background-image: none;
    color: @theme_unfocused_selected_fg_color;
}

/* File chooser dialog buttons */
filechooser button,
dialog button {
    background-color: @view_bg_color;
    background-image: none;
    color: @window_fg_color;
    border-color: @borders;
}

filechooser button:hover,
dialog button:hover {
    background-color: @accent_bg_color;
    background-image: none;
    color: @accent_fg_color;
}

.card {
    background-color: @card_bg_color;
    color: @card_fg_color;
}

popover, popover.background {
    background-color: @popover_bg_color;
    color: @popover_fg_color;
}

.dialog-vbox, dialog {
    background-color: @dialog_bg_color;
    color: @dialog_fg_color;
}

/* Scrollbars */
scrollbar {
    background-color: @window_bg_color;
}

scrollbar slider {
    background-color: @borders;
}

/* Selection colors */
selection,
*:selected {
    background-color: @accent_bg_color;
    color: @accent_fg_color;
}

/* Menus */
menu,
.menu {
    background-color: @popover_bg_color;
    color: @popover_fg_color;
}

menuitem:hover {
    background-color: @accent_bg_color;
    color: @accent_fg_color;
}

/* Toolbar */
toolbar {
    background-color: @view_bg_color;
    color: @window_fg_color;
}

/* Tooltips */
tooltip {
    background-color: @theme_selected_bg_color;
    color: @theme_selected_fg_color;
}

/* Notebook tabs */
notebook {
    background-color: @window_bg_color;
}

notebook header {
    background-color: @view_bg_color;
}

notebook tab {
    background-color: @view_bg_color;
    color: @window_fg_color;
}

/* Sidebar */
.sidebar {
    background-color: @sidebar_bg_color;
    color: @sidebar_fg_color;
}

/* Notebook tabs */
notebook tab:checked {
    border-bottom: 2px solid @accent_bg_color;
}

/* List rows */
list,
row {
    background-color: @view_bg_color;
    color: @window_fg_color;
}

row:selected {
    background-color: @accent_bg_color;
    color: @accent_fg_color;
}

/* Remove CSD padding/gaps */
decoration {
    margin: 0;
    padding: 0;
}
